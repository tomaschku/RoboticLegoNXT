<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>libnxter: Matrix.nxc File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Matrix.nxc File Reference</h1>Integer matrix implementation. Provides matrix algebra, cofactor, adjugate and inverse computation. <a href="#_details">More...</a>
<p>
<code>#include &quot;<a class="el" href="_debug_8nxc-source.html">Debug.nxc</a>&quot;</code><br>

<p>
<div class="dynheader">
Include dependency graph for Matrix.nxc:</div>
<div class="dynsection">
<p><center><img src="_matrix_8nxc__incl.png" border="0" usemap="#Matrix.nxc_map" alt=""></center>
<map name="Matrix.nxc_map">
<area shape="rect" href="_debug_8nxc.html" title="Debugging utility macros." alt="" coords="5,80,88,107"></map>
</div>

<p>
<div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dynsection">
<p><center><img src="_matrix_8nxc__dep__incl.png" border="0" usemap="#Matrix.nxcdep_map" alt=""></center>
<map name="Matrix.nxcdep_map">
<area shape="rect" href="_vector_8nxc.html" title="A simple 3&#45;components vector implementation (2D point + direction)." alt="" coords="169,80,252,107"><area shape="rect" href="_kalman_filter_8nxc.html" title="Kalman Filter implementation for multidimentional state vector." alt="" coords="276,80,396,107"><area shape="rect" href="_circle_8nxc.html" title="Circle geometry operations." alt="" coords="93,304,173,331"><area shape="rect" href="_sonar_8nxc.html" title="Sonar implementation with an ultrasonic sensor, optionally mounted on a sweep motor..." alt="" coords="93,379,173,405"><area shape="rect" href="_example_8nxc-source.html" title="Example.nxc" alt="" coords="233,453,329,480"><area shape="rect" href="_vehicle_8nxc.html" title="A simple 2 wheels drive vehicle implementation that can travel a set of navigation..." alt="" coords="197,379,285,405"><area shape="rect" href="_odometer2_8nxc.html" title="Implements odometery for 2 wheels drive robot base using motor tachometers." alt="" coords="352,304,461,331"><area shape="rect" href="_screen_8nxc.html" title="Display functions for text and graphs." alt="" coords="248,155,336,181"><area shape="rect" href="_map_8nxc.html" title="A 2D map implementation that holds a set of landmark objects." alt="" coords="411,229,483,256"><area shape="rect" href="_motor_8nxc.html" title="Motor control implementation." alt="" coords="248,304,328,331"></map>
</div>

<p>
<a href="_matrix_8nxc-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_matrix.html">Matrix</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The matrix class. Don't access the members directly. Use the macros <a class="el" href="_matrix_8nxc.html#f56002ee669fba328c38e43e92b9c9f0" title="Gives direct access to an element in matrix m, at row i and col j.">MIJ()</a> or <a class="el" href="_matrix_8nxc.html#9ef4abec69560f6da175156f77c76f3c" title="Gives direct one-dimentional access to an element in matrix m, at the index i. Index...">MI()</a> or the methods provided instead.  <a href="struct_matrix.html#_details">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_matrix_8nxc.html#f56002ee669fba328c38e43e92b9c9f0">MIJ</a>(m, i, j)&nbsp;&nbsp;&nbsp;m.elements[(i) * m.cols + (j)]</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gives direct access to an element in matrix m, at row i and col j.  <a href="#f56002ee669fba328c38e43e92b9c9f0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_matrix_8nxc.html#9ef4abec69560f6da175156f77c76f3c">MI</a>(m, i)&nbsp;&nbsp;&nbsp;m.elements[i]</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gives direct one-dimentional access to an element in matrix m, at the index i. Index i is calculated as (row * cols + col).  <a href="#9ef4abec69560f6da175156f77c76f3c"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="61411b71aa74fff2e8a37fa9e26689ab"></a><!-- doxytag: member="Matrix.nxc::MatrixInit" ref="61411b71aa74fff2e8a37fa9e26689ab" args="(Matrix &amp;matrix, int rows, int cols)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_matrix_8nxc.html#61411b71aa74fff2e8a37fa9e26689ab">MatrixInit</a> (<a class="el" href="struct_matrix.html">Matrix</a> &amp;matrix, int rows, int cols)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initializes a matrix to a matrix of size rows x cols and fills it with 0s. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_matrix_8nxc.html#17d51ca92c5e6961b154732e03bf3b39">MatrixInitElements</a> (<a class="el" href="struct_matrix.html">Matrix</a> &amp;matrix, int rows, int cols, long &amp;elements[])</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initializes a matrix to a matrix of size rows x cols and fills it with elements from given array.  <a href="#17d51ca92c5e6961b154732e03bf3b39"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="bbe935ebbf54133773330daf2b8e57ee"></a><!-- doxytag: member="Matrix.nxc::MatrixInitIdentity" ref="bbe935ebbf54133773330daf2b8e57ee" args="(Matrix &amp;matrix, int rows, int cols)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_matrix_8nxc.html#bbe935ebbf54133773330daf2b8e57ee">MatrixInitIdentity</a> (<a class="el" href="struct_matrix.html">Matrix</a> &amp;matrix, int rows, int cols)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initializes a matrix to an Identity matrix of size rows x cols, with all elements except diagonal elements set to 0s and diagonal elements set to 1s. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="afeb0fe21a52ffcee5e85a32815ccb1c"></a><!-- doxytag: member="Matrix.nxc::MatrixInitDiagonal" ref="afeb0fe21a52ffcee5e85a32815ccb1c" args="(Matrix &amp;matrix, int rows, int cols, long value)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_matrix_8nxc.html#afeb0fe21a52ffcee5e85a32815ccb1c">MatrixInitDiagonal</a> (<a class="el" href="struct_matrix.html">Matrix</a> &amp;matrix, int rows, int cols, long value)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initializes a matrix to a diagonal matrix of size rows x cols, with all elements except diagonal elements set to 0s and diagonal elements set to given value. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="e67258214928b7637d430dc0403191e7"></a><!-- doxytag: member="Matrix.nxc::MatrixGet" ref="e67258214928b7637d430dc0403191e7" args="(Matrix &amp;matrix, int row, int col)" -->
long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_matrix_8nxc.html#e67258214928b7637d430dc0403191e7">MatrixGet</a> (<a class="el" href="struct_matrix.html">Matrix</a> &amp;matrix, int row, int col)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the value of element in matrix given by row x col. This is exactly same as macro <a class="el" href="_matrix_8nxc.html#f56002ee669fba328c38e43e92b9c9f0" title="Gives direct access to an element in matrix m, at row i and col j.">MIJ()</a>, but in functional form. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="7180a29b0d3b782bb3b46cca3f3f26e4"></a><!-- doxytag: member="Matrix.nxc::MatrixSet" ref="7180a29b0d3b782bb3b46cca3f3f26e4" args="(Matrix &amp;matrix, int row, int col, long value)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_matrix_8nxc.html#7180a29b0d3b782bb3b46cca3f3f26e4">MatrixSet</a> (<a class="el" href="struct_matrix.html">Matrix</a> &amp;matrix, int row, int col, long value)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the given value to the element in matrix given by row x col. This is exactly same as assigning to macro <a class="el" href="_matrix_8nxc.html#f56002ee669fba328c38e43e92b9c9f0" title="Gives direct access to an element in matrix m, at row i and col j.">MIJ()</a>, but in functional form. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="160bf54c8a06bc4e85da2180874e9740"></a><!-- doxytag: member="Matrix.nxc::MatrixCompare" ref="160bf54c8a06bc4e85da2180874e9740" args="(Matrix &amp;matrixA, Matrix &amp;matrixB)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_matrix_8nxc.html#160bf54c8a06bc4e85da2180874e9740">MatrixCompare</a> (<a class="el" href="struct_matrix.html">Matrix</a> &amp;matrixA, <a class="el" href="struct_matrix.html">Matrix</a> &amp;matrixB)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Compares the two matrixes. A and B, and returns true if they are equal otherwise returns false. Equality involves each and every element being equal. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b65a9c0126a367cebdc48b88ab90d3d5"></a><!-- doxytag: member="Matrix.nxc::MatrixIsNull" ref="b65a9c0126a367cebdc48b88ab90d3d5" args="(Matrix &amp;matrix)" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_matrix_8nxc.html#b65a9c0126a367cebdc48b88ab90d3d5">MatrixIsNull</a> (<a class="el" href="struct_matrix.html">Matrix</a> &amp;matrix)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns true if the matrix is NULL, i.e. all elemants are 0. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="cd627fd5ffe9f255ab6ab4df5a2ba82f"></a><!-- doxytag: member="Matrix.nxc::MatrixTranspose" ref="cd627fd5ffe9f255ab6ab4df5a2ba82f" args="(Matrix &amp;matrix)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_matrix_8nxc.html#cd627fd5ffe9f255ab6ab4df5a2ba82f">MatrixTranspose</a> (<a class="el" href="struct_matrix.html">Matrix</a> &amp;matrix)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Converts the given matrix into its Transpose, i.e. the matrix is flipped along its diagonal (top-left to bottom-right). <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="d24ef793ffe0a3f064a0f76572499516"></a><!-- doxytag: member="Matrix.nxc::MatrixMaxima" ref="d24ef793ffe0a3f064a0f76572499516" args="(Matrix &amp;matrix)" -->
long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_matrix_8nxc.html#d24ef793ffe0a3f064a0f76572499516">MatrixMaxima</a> (<a class="el" href="struct_matrix.html">Matrix</a> &amp;matrix)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the largest value of 'absolute' values of elements in the matrix. It is useful to determine the 'scale' of the matrix. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="c2899fb7f2cbea76318b75518609e3e2"></a><!-- doxytag: member="Matrix.nxc::MatrixMinima" ref="c2899fb7f2cbea76318b75518609e3e2" args="(Matrix &amp;matrix)" -->
long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_matrix_8nxc.html#c2899fb7f2cbea76318b75518609e3e2">MatrixMinima</a> (<a class="el" href="struct_matrix.html">Matrix</a> &amp;matrix)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the smallest value of 'absolute' values of elements in the matrix, discounting 0s. It is useful to determine the lower 'scale' of the matrix. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="975e27ff4473bbd1a1aa944cc6af0e06"></a><!-- doxytag: member="Matrix.nxc::MatrixShiftLeft" ref="975e27ff4473bbd1a1aa944cc6af0e06" args="(Matrix &amp;matrix, int numShift)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_matrix_8nxc.html#975e27ff4473bbd1a1aa944cc6af0e06">MatrixShiftLeft</a> (<a class="el" href="struct_matrix.html">Matrix</a> &amp;matrix, int numShift)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Binary shifts all elements of the matrix right by the amount numShift. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="0ddcfe0ee9b7b781bec676c5eb595ef3"></a><!-- doxytag: member="Matrix.nxc::MatrixShiftRight" ref="0ddcfe0ee9b7b781bec676c5eb595ef3" args="(Matrix &amp;matrix, int numShift)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_matrix_8nxc.html#0ddcfe0ee9b7b781bec676c5eb595ef3">MatrixShiftRight</a> (<a class="el" href="struct_matrix.html">Matrix</a> &amp;matrix, int numShift)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Binary shifts all elements of the matrix left by the amount numShift. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="fde4ce683e744ca3100ae654d797bc49"></a><!-- doxytag: member="Matrix.nxc::MatrixAdd" ref="fde4ce683e744ca3100ae654d797bc49" args="(Matrix &amp;matrixA, Matrix &amp;matrixB)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_matrix_8nxc.html#fde4ce683e744ca3100ae654d797bc49">MatrixAdd</a> (<a class="el" href="struct_matrix.html">Matrix</a> &amp;matrixA, <a class="el" href="struct_matrix.html">Matrix</a> &amp;matrixB)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Adds matrix B to matrix A. i.e. A += B. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="adbdbf197f448aa1a563b1544dd0def0"></a><!-- doxytag: member="Matrix.nxc::MatrixSubtract" ref="adbdbf197f448aa1a563b1544dd0def0" args="(Matrix &amp;matrixA, Matrix &amp;matrixB)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_matrix_8nxc.html#adbdbf197f448aa1a563b1544dd0def0">MatrixSubtract</a> (<a class="el" href="struct_matrix.html">Matrix</a> &amp;matrixA, <a class="el" href="struct_matrix.html">Matrix</a> &amp;matrixB)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Subtracts matrix B from matrix A. i.e. A -= B. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="d6908879277157ada20756c62d3f26c6"></a><!-- doxytag: member="Matrix.nxc::MatrixMultiply" ref="d6908879277157ada20756c62d3f26c6" args="(Matrix &amp;matrixA, Matrix &amp;matrixB, Matrix &amp;matrixC)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_matrix_8nxc.html#d6908879277157ada20756c62d3f26c6">MatrixMultiply</a> (<a class="el" href="struct_matrix.html">Matrix</a> &amp;matrixA, <a class="el" href="struct_matrix.html">Matrix</a> &amp;matrixB, <a class="el" href="struct_matrix.html">Matrix</a> &amp;matrixC)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Multiplies matrix A with B and stores the result in matrix C. i.e. C = A * B. <a class="el" href="struct_matrix.html" title="The matrix class. Don&#39;t access the members directly. Use the macros MIJ() or...">Matrix</a> C must not be same variable as matrix A or B, because all of them are passed as reference. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="2ae0f3d8238720bd83b7ec4aa102f17f"></a><!-- doxytag: member="Matrix.nxc::MatrixScale" ref="2ae0f3d8238720bd83b7ec4aa102f17f" args="(Matrix &amp;matrix, long scale)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_matrix_8nxc.html#2ae0f3d8238720bd83b7ec4aa102f17f">MatrixScale</a> (<a class="el" href="struct_matrix.html">Matrix</a> &amp;matrix, long scale)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Scales all elements in matrix A by given scale factor. i.e. A *= scale. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a7713a3d0e4a2ef5317c13077c1e55a3"></a><!-- doxytag: member="Matrix.nxc::MatrixReduce" ref="a7713a3d0e4a2ef5317c13077c1e55a3" args="(Matrix &amp;matrix, long scale)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_matrix_8nxc.html#a7713a3d0e4a2ef5317c13077c1e55a3">MatrixReduce</a> (<a class="el" href="struct_matrix.html">Matrix</a> &amp;matrix, long scale)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reduces (i.e. scales down) all elements in matrix A by given reduction factor. i.e. A /= scale. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="2966f13e17389d9eac3f43db16c22e59"></a><!-- doxytag: member="Matrix.nxc::MatrixMinor" ref="2966f13e17389d9eac3f43db16c22e59" args="(Matrix &amp;matrix, int minorI, int minorJ, Matrix &amp;matrixM)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_matrix_8nxc.html#2966f13e17389d9eac3f43db16c22e59">MatrixMinor</a> (<a class="el" href="struct_matrix.html">Matrix</a> &amp;matrix, int minorI, int minorJ, <a class="el" href="struct_matrix.html">Matrix</a> &amp;matrixM)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Computes a minor matrix, designated Minor (i,j), for the given matrix and returns it in matrixM. i.e. M(i, j) = Minor of A(i, j). MatrixM must not be the same variable as matrix because they are passed as references. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="dd2d1a9d7492e69964eba3239354cbc1"></a><!-- doxytag: member="Matrix.nxc::MatrixDeterminant3" ref="dd2d1a9d7492e69964eba3239354cbc1" args="(Matrix &amp;matrix)" -->
long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_matrix_8nxc.html#dd2d1a9d7492e69964eba3239354cbc1">MatrixDeterminant3</a> (<a class="el" href="struct_matrix.html">Matrix</a> &amp;matrix)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Direct diterminat computation for matrix &lt;= 3x3 size. For larger size, see MatrixDiterminant() below. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_matrix_8nxc.html#d07a8a59d4b5e3a84a507f04034c8d70">MatrixCofactorIJ</a> (<a class="el" href="struct_matrix.html">Matrix</a> &amp;matrixIn, int i, int j)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Computes and returns the cofactor of row i and col j of matrixIn.  <a href="#d07a8a59d4b5e3a84a507f04034c8d70"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="3fc20e69c4a77a2731de9b231e0883e6"></a><!-- doxytag: member="Matrix.nxc::MatrixCofactor" ref="3fc20e69c4a77a2731de9b231e0883e6" args="(Matrix &amp;matrix, Matrix &amp;retCofactor)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_matrix_8nxc.html#3fc20e69c4a77a2731de9b231e0883e6">MatrixCofactor</a> (<a class="el" href="struct_matrix.html">Matrix</a> &amp;matrix, <a class="el" href="struct_matrix.html">Matrix</a> &amp;retCofactor)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Finds the cofactor matrix of a given matrix. Cofactor matrix is a matrix with each element (i,j) set to cofactor of the matrix for (i,j). <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_matrix_8nxc.html#eb772cf02a99fb96b989f36e7c4fd251">MatrixDeterminant</a> (<a class="el" href="struct_matrix.html">Matrix</a> &amp;matrix)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Finds the determinant of a matrix. For matrix smaller than 4x4, it is exactly same as <a class="el" href="_matrix_8nxc.html#dd2d1a9d7492e69964eba3239354cbc1" title="Direct diterminat computation for matrix &lt;= 3x3 size. For larger size, see MatrixDiterminant()...">MatrixDeterminant3()</a>.  <a href="#eb772cf02a99fb96b989f36e7c4fd251"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="5f3a90b21f3936254f2b41def4880786"></a><!-- doxytag: member="Matrix.nxc::MatrixAdjugate" ref="5f3a90b21f3936254f2b41def4880786" args="(Matrix &amp;matrix, Matrix &amp;retAdjugate)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_matrix_8nxc.html#5f3a90b21f3936254f2b41def4880786">MatrixAdjugate</a> (<a class="el" href="struct_matrix.html">Matrix</a> &amp;matrix, <a class="el" href="struct_matrix.html">Matrix</a> &amp;retAdjugate)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Finds the adjugate (aka ajoint) of a matrix. Adjugate of a matrix is basically a transpose of its cofactor matrix. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b1efb876ee1433944234e0dfd95c97a8"></a><!-- doxytag: member="Matrix.nxc::MatrixPrint" ref="b1efb876ee1433944234e0dfd95c97a8" args="(Matrix &amp;matrix, string title, int pauseSecs)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_matrix_8nxc.html#b1efb876ee1433944234e0dfd95c97a8">MatrixPrint</a> (<a class="el" href="struct_matrix.html">Matrix</a> &amp;matrix, string title, int pauseSecs)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Prints the matrix on screen with the given title and follows it with a wait of pauseSecs. Useful for debugging. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_matrix_8nxc.html#e6df291f36d157ad817a5b34bd634afb">MatrixInverse</a> (<a class="el" href="struct_matrix.html">Matrix</a> matrix, long precision, <a class="el" href="struct_matrix.html">Matrix</a> &amp;retInverse)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Finds the inverse of a matrix. The inverted matix is scalled by the returned scale factor. The given precision is the amount of desired scale factor within which all element values are fitted.  <a href="#e6df291f36d157ad817a5b34bd634afb"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Integer matrix implementation. Provides matrix algebra, cofactor, adjugate and inverse computation. 
<p>

<p>Definition in file <a class="el" href="_matrix_8nxc-source.html">Matrix.nxc</a>.</p>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="9ef4abec69560f6da175156f77c76f3c"></a><!-- doxytag: member="Matrix.nxc::MI" ref="9ef4abec69560f6da175156f77c76f3c" args="(m, i)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MI          </td>
          <td>(</td>
          <td class="paramtype">m,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">i&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;m.elements[i]</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gives direct one-dimentional access to an element in matrix m, at the index i. Index i is calculated as (row * cols + col). 
<p>
This access is more efficient than 2D access with <a class="el" href="_matrix_8nxc.html#f56002ee669fba328c38e43e92b9c9f0" title="Gives direct access to an element in matrix m, at row i and col j.">MIJ()</a> because it skips index calculation (one multiply and one addition) and is useful if all elements need to be accessed during a matrix operation (e.g. during an addition). It can be used both as left-hand and right-hand operants, i.e. 'MI(m,i) = value' or 'variable = <a class="el" href="_matrix_8nxc.html#9ef4abec69560f6da175156f77c76f3c" title="Gives direct one-dimentional access to an element in matrix m, at the index i. Index...">MI(m,i)</a>'. 
<p>Definition at line <a class="el" href="_matrix_8nxc-source.html#l00058">58</a> of file <a class="el" href="_matrix_8nxc-source.html">Matrix.nxc</a>.</p>

<p>Referenced by <a class="el" href="_matrix_8nxc-source.html#l00250">MatrixAdd()</a>, <a class="el" href="_matrix_8nxc-source.html#l00152">MatrixCompare()</a>, <a class="el" href="_matrix_8nxc-source.html#l00338">MatrixDeterminant3()</a>, <a class="el" href="_matrix_8nxc-source.html#l00166">MatrixIsNull()</a>, <a class="el" href="_matrix_8nxc-source.html#l00198">MatrixMaxima()</a>, <a class="el" href="_matrix_8nxc-source.html#l00215">MatrixMinima()</a>, <a class="el" href="_matrix_8nxc-source.html#l00301">MatrixReduce()</a>, <a class="el" href="_matrix_8nxc-source.html#l00292">MatrixScale()</a>, <a class="el" href="_matrix_8nxc-source.html#l00230">MatrixShiftLeft()</a>, <a class="el" href="_matrix_8nxc-source.html#l00240">MatrixShiftRight()</a>, and <a class="el" href="_matrix_8nxc-source.html#l00262">MatrixSubtract()</a>.</p>

</div>
</div><p>
<a class="anchor" name="f56002ee669fba328c38e43e92b9c9f0"></a><!-- doxytag: member="Matrix.nxc::MIJ" ref="f56002ee669fba328c38e43e92b9c9f0" args="(m, i, j)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MIJ          </td>
          <td>(</td>
          <td class="paramtype">m,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">i,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">j&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;m.elements[(i) * m.cols + (j)]</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gives direct access to an element in matrix m, at row i and col j. 
<p>
It can be used both as left-hand and right-hand operants. It can be used both as left-hand and right-hand operants, i.e. 'MI(m,i) = value' or 'variable = <a class="el" href="_matrix_8nxc.html#9ef4abec69560f6da175156f77c76f3c" title="Gives direct one-dimentional access to an element in matrix m, at the index i. Index...">MI(m,i)</a>'. 
<p>Definition at line <a class="el" href="_matrix_8nxc-source.html#l00045">45</a> of file <a class="el" href="_matrix_8nxc-source.html">Matrix.nxc</a>.</p>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="d07a8a59d4b5e3a84a507f04034c8d70"></a><!-- doxytag: member="Matrix.nxc::MatrixCofactorIJ" ref="d07a8a59d4b5e3a84a507f04034c8d70" args="(Matrix &amp;matrixIn, int i, int j)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long MatrixCofactorIJ           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_matrix.html">Matrix</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>matrixIn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>j</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Computes and returns the cofactor of row i and col j of matrixIn. 
<p>
It computes the cofactor at (i,j) by recursive method. Functional recursion is not possible with NXC so it is implemented using internal stack to emulate recursion using iterative method. It's very inefficient for matrix larger than 4x4 size. It's such a mess when there is no recursive support in NXC :( 
<p>Definition at line <a class="el" href="_matrix_8nxc-source.html#l00366">366</a> of file <a class="el" href="_matrix_8nxc-source.html">Matrix.nxc</a>.</p>

<p>References <a class="el" href="_matrix_8nxc-source.html#l00068">Matrix::cols</a>, <a class="el" href="_matrix_8nxc-source.html#l00338">MatrixDeterminant3()</a>, <a class="el" href="_matrix_8nxc-source.html#l00133">MatrixGet()</a>, <a class="el" href="_matrix_8nxc-source.html#l00312">MatrixMinor()</a>, and <a class="el" href="_matrix_8nxc-source.html#l00067">Matrix::rows</a>.</p>

<p>Referenced by <a class="el" href="_matrix_8nxc-source.html#l00461">MatrixCofactor()</a>, and <a class="el" href="_matrix_8nxc-source.html#l00485">MatrixDeterminant()</a>.</p>

</div>
</div><p>
<a class="anchor" name="eb772cf02a99fb96b989f36e7c4fd251"></a><!-- doxytag: member="Matrix.nxc::MatrixDeterminant" ref="eb772cf02a99fb96b989f36e7c4fd251" args="(Matrix &amp;matrix)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long MatrixDeterminant           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_matrix.html">Matrix</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>matrix</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Finds the determinant of a matrix. For matrix smaller than 4x4, it is exactly same as <a class="el" href="_matrix_8nxc.html#dd2d1a9d7492e69964eba3239354cbc1" title="Direct diterminat computation for matrix &lt;= 3x3 size. For larger size, see MatrixDiterminant()...">MatrixDeterminant3()</a>. 
<p>
The determinant is computed using recursive cofactor method (the least efficient method) for matrix larger than 3x3. so be aware of performance for large matrixes. For smaller matrix (i.e. size less than or equal to 3x3, it will invoke <a class="el" href="_matrix_8nxc.html#dd2d1a9d7492e69964eba3239354cbc1" title="Direct diterminat computation for matrix &lt;= 3x3 size. For larger size, see MatrixDiterminant()...">MatrixDeterminant3()</a> anyways which uses direct computation. 
<p>Definition at line <a class="el" href="_matrix_8nxc-source.html#l00485">485</a> of file <a class="el" href="_matrix_8nxc-source.html">Matrix.nxc</a>.</p>

<p>References <a class="el" href="_matrix_8nxc-source.html#l00068">Matrix::cols</a>, <a class="el" href="_matrix_8nxc-source.html#l00366">MatrixCofactorIJ()</a>, <a class="el" href="_matrix_8nxc-source.html#l00338">MatrixDeterminant3()</a>, <a class="el" href="_matrix_8nxc-source.html#l00133">MatrixGet()</a>, and <a class="el" href="_matrix_8nxc-source.html#l00067">Matrix::rows</a>.</p>

<p>Referenced by <a class="el" href="_matrix_8nxc-source.html#l00554">MatrixInverse()</a>.</p>

</div>
</div><p>
<a class="anchor" name="17d51ca92c5e6961b154732e03bf3b39"></a><!-- doxytag: member="Matrix.nxc::MatrixInitElements" ref="17d51ca92c5e6961b154732e03bf3b39" args="(Matrix &amp;matrix, int rows, int cols, long &amp;elements[])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MatrixInitElements           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_matrix.html">Matrix</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>matrix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>rows</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>cols</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long &amp;&nbsp;</td>
          <td class="paramname"> <em>elements</em>[]</td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initializes a matrix to a matrix of size rows x cols and fills it with elements from given array. 
<p>
The array should contain rows * cols elemements and is accessed flatly with (i * rows + cols). 
<p>Definition at line <a class="el" href="_matrix_8nxc-source.html#l00091">91</a> of file <a class="el" href="_matrix_8nxc-source.html">Matrix.nxc</a>.</p>

<p>References <a class="el" href="_matrix_8nxc-source.html#l00068">Matrix::cols</a>, <a class="el" href="_matrix_8nxc-source.html#l00066">Matrix::elements</a>, <a class="el" href="_matrix_8nxc-source.html#l00067">Matrix::rows</a>, and <a class="el" href="_matrix_8nxc-source.html#l00069">Matrix::size</a>.</p>

</div>
</div><p>
<a class="anchor" name="e6df291f36d157ad817a5b34bd634afb"></a><!-- doxytag: member="Matrix.nxc::MatrixInverse" ref="e6df291f36d157ad817a5b34bd634afb" args="(Matrix matrix, long precision, Matrix &amp;retInverse)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long MatrixInverse           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_matrix.html">Matrix</a>&nbsp;</td>
          <td class="paramname"> <em>matrix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&nbsp;</td>
          <td class="paramname"> <em>precision</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_matrix.html">Matrix</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>retInverse</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Finds the inverse of a matrix. The inverted matix is scalled by the returned scale factor. The given precision is the amount of desired scale factor within which all element values are fitted. 
<p>
The returned inverse matrix is scaled by a factor value return by the function to fit all integer values in the matrix within the precision provided. That is, if the precision provided is 1000, it will produce an inverse matrix with all it's elements' absolute values within 0 to 1000.<p>
Use the returned 'scale' value to scale down the matrix at later appropriate time. This is done because inverse of integer matrix is always less than 1 and we need to maintain the level of precision for the inverse matrix to be meaningful. It's a cheap form of maintaining floating point numbers in integer matrix. Unlike other functions, it takes matrix as value (instead of reference), because it needs to modify it without affecting the original one. As a consequence, retInverse can be the same variable as input matrix. 
<p>
Implementation detail: To avoid blowing up the matrix with integer overflow, the input matrix has to be scaled down depending on the size of the matrix The determinant of the matrix has maximum order of N times the order of it's largest element. So for example, if the largest item in a 4x4 matrix is 1000, the max determinant value will take, 1000,000,000,000 -- Not an easy number to fit in a 32 bit integer :).<p>
To tame the matrix down, we scale the input matix and limit the largest element to 2^(31/N) - 1. N is the order of the matrix, and the 31 comes from the fact that 32 bit integer can't hold value larger than 2^31. So, for 1x1 matrix, input can take full range of 2^31 - 1, 2x2 can take max 2^15 - 1, and so on.<p>
Algorithm: The larget element is first searched and bit shifted until it falls in the acceptable dynamic range of that matrix. This amount of bit shifts is performed on all elements. Some smaller elements will fall off to 0 after the shift, but there is nothing we can do about that.<p>
Then, to neutralize the input shifts, after the adjugate is computed, either the determinanat needs to be multiplied by 2^S or (adjugate) matrix elements need to be divided by 2^S, where S is the number of bits we shifted before.<p>
We can't do the first, because we will lose all the precision in elements. We can'd do the later either because that will overflow determinant (remember, we scaled down the input in first place to avoid this very problem).<p>
So what we do is increse the scale factor of the matrix (the value that will be returned, which is initially set to the provided desired precision factor) by this amount. It is quite likely that we can't scale it (by right shifting it) beyond some limit without overflowing. That's when the residual scale (the remaining shiftings) is used to scale down (left shift) the matrix elements. We lose precision, but this is the last place we can scale). 
<p>Definition at line <a class="el" href="_matrix_8nxc-source.html#l00554">554</a> of file <a class="el" href="_matrix_8nxc-source.html">Matrix.nxc</a>.</p>

<p>References <a class="el" href="_matrix_8nxc-source.html#l00504">MatrixAdjugate()</a>, <a class="el" href="_matrix_8nxc-source.html#l00485">MatrixDeterminant()</a>, <a class="el" href="_matrix_8nxc-source.html#l00198">MatrixMaxima()</a>, <a class="el" href="_matrix_8nxc-source.html#l00301">MatrixReduce()</a>, <a class="el" href="_matrix_8nxc-source.html#l00292">MatrixScale()</a>, <a class="el" href="_matrix_8nxc-source.html#l00240">MatrixShiftRight()</a>, and <a class="el" href="_matrix_8nxc-source.html#l00067">Matrix::rows</a>.</p>

<p>Referenced by <a class="el" href="_kalman_filter_8nxc-source.html#l00123">KalmanFilterStep()</a>.</p>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Sat Jun 6 15:09:09 2009 for libnxter by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
