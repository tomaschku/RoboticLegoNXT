<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>libnxter: Sonar.nxc File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Sonar.nxc File Reference</h1><a class="el" href="struct_sonar.html" title="Sonar class that represents an ultrasonic sensor mounted on a robot.">Sonar</a> implementation with an ultrasonic sensor, optionally mounted on a sweep motor. <a href="#_details">More...</a>
<p>
<code>#include &quot;<a class="el" href="_caliberate_motors_8nxc-source.html">CaliberateMotors.nxc</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="_circle_8nxc-source.html">Circle.nxc</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="_angle_8nxc-source.html">Angle.nxc</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="_vector_8nxc-source.html">Vector.nxc</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="_p_i_d_8nxc-source.html">PID.nxc</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="_motor_8nxc-source.html">Motor.nxc</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="_robot_prima_8nxc-source.html">RobotPrima.nxc</a>&quot;</code><br>

<p>
<div class="dynheader">
Include dependency graph for Sonar.nxc:</div>
<div class="dynsection">
<p><center><img src="_sonar_8nxc__incl.png" border="0" usemap="#Sonar.nxc_map" alt=""></center>
<map name="Sonar.nxc_map">
<area shape="rect" href="_caliberate_motors_8nxc.html" title="Motor setup caliberation utilities." alt="" coords="5,80,149,107"><area shape="rect" href="_circle_8nxc.html" title="Circle geometry operations." alt="" coords="120,155,200,181"><area shape="rect" href="_vector_8nxc.html" title="A simple 3&#45;components vector implementation (2D point + direction)." alt="" coords="197,229,280,256"><area shape="rect" href="_angle_8nxc.html" title="Provides simple arithmetic for absolute and relative angles." alt="" coords="427,229,507,256"><area shape="rect" href="_p_i_d_8nxc.html" title="Generic PID controller implementation." alt="" coords="387,155,453,181"><area shape="rect" href="_motor_8nxc.html" title="Motor control implementation." alt="" coords="291,80,371,107"><area shape="rect" href="_robot_prima_8nxc.html" title="An experimental robotic platform for developing this library." alt="" coords="528,80,643,107"><area shape="rect" href="_debug_8nxc.html" title="Debugging utility macros." alt="" coords="221,379,304,405"><area shape="rect" href="_matrix_8nxc.html" title="Integer matrix implementation. Provides matrix algebra, cofactor, adjugate and inverse..." alt="" coords="261,304,344,331"><area shape="rect" href="_screen_8nxc.html" title="Display functions for text and graphs." alt="" coords="275,155,363,181"></map>
</div>

<p>
<div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dynsection">
<p><center><img src="_sonar_8nxc__dep__incl.png" border="0" usemap="#Sonar.nxcdep_map" alt=""></center>
<map name="Sonar.nxcdep_map">
<area shape="rect" href="_example_8nxc-source.html" title="Example.nxc" alt="" coords="5,80,101,107"></map>
</div>

<p>
<a href="_sonar_8nxc-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_sonar.html">Sonar</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight"><a class="el" href="struct_sonar.html" title="Sonar class that represents an ultrasonic sensor mounted on a robot.">Sonar</a> class that represents an ultrasonic sensor mounted on a robot.  <a href="struct_sonar.html#_details">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_sonar_8nxc.html#5ecaa35ce490e890c07cc2d6c21388c9">SonarInit</a> (<a class="el" href="struct_sonar.html">Sonar</a> &amp;sonar, int sensorPort, <a class="el" href="struct_vector.html">Vector</a> &amp;sensorLocation, int sensorOffset, int sensorCutOffMin, int sensorCutOffMax, int toleranceAngle, long toleranceDistance, int sensorMotor, int gearRatio, int motorMovePower, int motorScanPower, int sensorMinAngle, int sensorMaxAngle)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initializes sonar with an ultrasonic sensor connected at sensorPort and mounted on a motor sensorMotor.  <a href="#5ecaa35ce490e890c07cc2d6c21388c9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="b75a1546466707f6570d2446f10cfeb2"></a><!-- doxytag: member="Sonar.nxc::SonarGetCurrentViewAngle" ref="b75a1546466707f6570d2446f10cfeb2" args="(Sonar &amp;sonar, Vector &amp;robotLocation)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_sonar_8nxc.html#b75a1546466707f6570d2446f10cfeb2">SonarGetCurrentViewAngle</a> (<a class="el" href="struct_sonar.html">Sonar</a> &amp;sonar, <a class="el" href="struct_vector.html">Vector</a> &amp;robotLocation)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets current absolute view angle in the world at given robot orientation. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="e7951e8d4f14a9d99a961482818d7a70"></a><!-- doxytag: member="Sonar.nxc::SonarGetMinViewAngle" ref="e7951e8d4f14a9d99a961482818d7a70" args="(Sonar &amp;sonar, Vector &amp;robotLocation)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_sonar_8nxc.html#e7951e8d4f14a9d99a961482818d7a70">SonarGetMinViewAngle</a> (<a class="el" href="struct_sonar.html">Sonar</a> &amp;sonar, <a class="el" href="struct_vector.html">Vector</a> &amp;robotLocation)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the absolute minimum view angle in the world at given robot orientation. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="a69d2d6840000206893ebd33c977e8b8"></a><!-- doxytag: member="Sonar.nxc::SonarGetMaxViewAngle" ref="a69d2d6840000206893ebd33c977e8b8" args="(Sonar &amp;sonar, Vector &amp;robotLocation)" -->
int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_sonar_8nxc.html#a69d2d6840000206893ebd33c977e8b8">SonarGetMaxViewAngle</a> (<a class="el" href="struct_sonar.html">Sonar</a> &amp;sonar, <a class="el" href="struct_vector.html">Vector</a> &amp;robotLocation)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the absolute maximum view angle in the world at given robot orientation. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="4254390546da21b78748486b37bd2b07"></a><!-- doxytag: member="Sonar.nxc::SonarGetPosition" ref="4254390546da21b78748486b37bd2b07" args="(Sonar &amp;sonar, Vector &amp;robotLocation, Vector &amp;retVec)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_sonar_8nxc.html#4254390546da21b78748486b37bd2b07">SonarGetPosition</a> (<a class="el" href="struct_sonar.html">Sonar</a> &amp;sonar, <a class="el" href="struct_vector.html">Vector</a> &amp;robotLocation, <a class="el" href="struct_vector.html">Vector</a> &amp;retVec)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Gets the current sonar mount position and orientation in world coordinate. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_sonar_8nxc.html#1b96ed072ef49e36744af718ed758863">SonarSweep</a> (<a class="el" href="struct_sonar.html">Sonar</a> &amp;sonar, int angleFrom, int angleTo, long &amp;rangeData[])</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sweeps the sonar from angleFrom to angleTo and returns an array of angle/distance pairs.  <a href="#1b96ed072ef49e36744af718ed758863"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_sonar_8nxc.html#953a8e1368314b4a90b643731d902135">SonarSweepPrint</a> (<a class="el" href="struct_sonar.html">Sonar</a> &amp;sonar, long &amp;rangeData[], int waitTime)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Prints the rangeData array on screen like a radar. Used for debugging.  <a href="#953a8e1368314b4a90b643731d902135"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_sonar_8nxc.html#7903941046ca99e7f5e224c15f3b3936">SonarGetObjectDistanceAtAngle</a> (<a class="el" href="struct_sonar.html">Sonar</a> &amp;sonar, <a class="el" href="struct_vector.html">Vector</a> robotLocation, int viewAngle, long viewDistance, int &amp;retBestAngle, long &amp;retBestDistance)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the distance of an object expected to be found at the given viewAngle (relative to sonar neutral position) and viewDistance.  <a href="#7903941046ca99e7f5e224c15f3b3936"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_sonar_8nxc.html#c41aec15f800f45db8f59d188197c4f9">SonarGetObjectDistanceAtLocation</a> (<a class="el" href="struct_sonar.html">Sonar</a> &amp;sonar, <a class="el" href="struct_vector.html">Vector</a> robotLocation, <a class="el" href="struct_vector.html">Vector</a> &amp;viewLocation, int &amp;retBestAngle, long &amp;retBestDistance)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the distance of an object expected to be found at the given viewLocation (in world coordinate).  <a href="#c41aec15f800f45db8f59d188197c4f9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_sonar_8nxc.html#90a1cfab1623e80cf5be2f3365918cc9">SonarTriangulateLandmarks</a> (<a class="el" href="struct_sonar.html">Sonar</a> &amp;sonar, <a class="el" href="struct_vector.html">Vector</a> &amp;robotLocation, <a class="el" href="struct_vector.html">Vector</a> &amp;landmark1, <a class="el" href="struct_vector.html">Vector</a> &amp;landmark2, <a class="el" href="struct_vector.html">Vector</a> &amp;retLocation)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Triangulates the position robot from two known landmarks.  <a href="#90a1cfab1623e80cf5be2f3365918cc9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_sonar_8nxc.html#1a8ff90b85d135bd1a55ad5dc22a46b4">SonarFindObject</a> (<a class="el" href="struct_sonar.html">Sonar</a> &amp;sonar, <a class="el" href="struct_vector.html">Vector</a> robotLocation, <a class="el" href="struct_vector.html">Vector</a> &amp;retObject)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the absolute location of an object in the world detected by the sonar at current angle, if any was detected within the range of sensorCutOffMin and sensorCutOffMax.  <a href="#1a8ff90b85d135bd1a55ad5dc22a46b4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_sonar_8nxc.html#09aa653c510f60ae5982a4aa114ba969">SonarFindObjectAtAngle</a> (<a class="el" href="struct_sonar.html">Sonar</a> &amp;sonar, <a class="el" href="struct_vector.html">Vector</a> robotLocation, int viewAngle, long viewDistance, <a class="el" href="struct_vector.html">Vector</a> &amp;retObject)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the absolute location of an object found at given view angle.  <a href="#09aa653c510f60ae5982a4aa114ba969"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_sonar_8nxc.html#aec305b3e45a7d6977fdc9a96227bc2c">SonarFindObjectAtLocation</a> (<a class="el" href="struct_sonar.html">Sonar</a> &amp;sonar, <a class="el" href="struct_vector.html">Vector</a> robotLocation, <a class="el" href="struct_vector.html">Vector</a> viewLocation, <a class="el" href="struct_vector.html">Vector</a> &amp;retObject)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the absolute location of an object found around the reference view location.  <a href="#aec305b3e45a7d6977fdc9a96227bc2c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_sonar_8nxc.html#f964215498ccf0311f77946a281362cc">SonarFindObjectRelative</a> (<a class="el" href="struct_sonar.html">Sonar</a> &amp;sonar, <a class="el" href="struct_vector.html">Vector</a> &amp;retObject)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the relative (to robot reference) location of an object detected by the sonar, if any was detected within the range of sensorCutOffMin and sensorCutOffMax.  <a href="#f964215498ccf0311f77946a281362cc"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="_sonar_8nxc.html#a1d335e7ee69ee611e9a4147e304129b">SonarFindObjectAtAngleRelative</a> (<a class="el" href="struct_sonar.html">Sonar</a> &amp;sonar, int viewAngle, <a class="el" href="struct_vector.html">Vector</a> &amp;retObject)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the relative (to robot's reference point) location of an object found at given view angle.  <a href="#a1d335e7ee69ee611e9a4147e304129b"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<a class="el" href="struct_sonar.html" title="Sonar class that represents an ultrasonic sensor mounted on a robot.">Sonar</a> implementation with an ultrasonic sensor, optionally mounted on a sweep motor. 
<p>

<p>Definition in file <a class="el" href="_sonar_8nxc-source.html">Sonar.nxc</a>.</p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="1a8ff90b85d135bd1a55ad5dc22a46b4"></a><!-- doxytag: member="Sonar.nxc::SonarFindObject" ref="1a8ff90b85d135bd1a55ad5dc22a46b4" args="(Sonar &amp;sonar, Vector robotLocation, Vector &amp;retObject)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SonarFindObject           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_sonar.html">Sonar</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>sonar</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_vector.html">Vector</a>&nbsp;</td>
          <td class="paramname"> <em>robotLocation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_vector.html">Vector</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>retObject</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the absolute location of an object in the world detected by the sonar at current angle, if any was detected within the range of sensorCutOffMin and sensorCutOffMax. 
<p>
The object is located in robot world coordinate. retObject is the reference to <a class="el" href="struct_vector.html" title="A vector that represents a 2D point by x-y coordinates and a direction angle.">Vector</a> where object's coordinates will be be stored. It returns true if an object was found within the cutoff and refObject is updated, otherwise returns false and refObject is untouched.<p>
robotLocation is the location of robot's point of reference in in the robot world coordinate. 
<p>Definition at line <a class="el" href="_sonar_8nxc-source.html#l00496">496</a> of file <a class="el" href="_sonar_8nxc-source.html">Sonar.nxc</a>.</p>

<p>References <a class="el" href="_sonar_8nxc-source.html#l00062">Sonar::currentViewAngle</a>, <a class="el" href="_sonar_8nxc-source.html#l00049">Sonar::sensorCutOffMax</a>, <a class="el" href="_sonar_8nxc-source.html#l00048">Sonar::sensorCutOffMin</a>, <a class="el" href="_sonar_8nxc-source.html#l00044">Sonar::sensorLocation</a>, <a class="el" href="_sonar_8nxc-source.html#l00045">Sonar::sensorOffset</a>, <a class="el" href="_sonar_8nxc-source.html#l00043">Sonar::sensorPort</a>, <a class="el" href="_vector_8nxc-source.html#l00047">Vector::theta</a>, <a class="el" href="_vector_8nxc-source.html#l00172">VectorAdd()</a>, and <a class="el" href="_vector_8nxc-source.html#l00163">VectorTranslate()</a>.</p>

</div>
</div><p>
<a class="anchor" name="09aa653c510f60ae5982a4aa114ba969"></a><!-- doxytag: member="Sonar.nxc::SonarFindObjectAtAngle" ref="09aa653c510f60ae5982a4aa114ba969" args="(Sonar &amp;sonar, Vector robotLocation, int viewAngle, long viewDistance, Vector &amp;retObject)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SonarFindObjectAtAngle           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_sonar.html">Sonar</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>sonar</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_vector.html">Vector</a>&nbsp;</td>
          <td class="paramname"> <em>robotLocation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>viewAngle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&nbsp;</td>
          <td class="paramname"> <em>viewDistance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_vector.html">Vector</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>retObject</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the absolute location of an object found at given view angle. 
<p>
This is exactly same as SonarObjectLocation() except this function first sets the angle of sonar motor to given view angle first. The angle is relative to the neutral position of the sonar (not the robot). Left (anticlockwwise) is positive and Right (clockwise) is negative. 
<p>Definition at line <a class="el" href="_sonar_8nxc-source.html#l00536">536</a> of file <a class="el" href="_sonar_8nxc-source.html">Sonar.nxc</a>.</p>

<p>References <a class="el" href="_sonar_8nxc-source.html#l00044">Sonar::sensorLocation</a>, <a class="el" href="_sonar_8nxc-source.html#l00057">Sonar::sensorMaxAngle</a>, <a class="el" href="_sonar_8nxc-source.html#l00056">Sonar::sensorMinAngle</a>, <a class="el" href="_sonar_8nxc-source.html#l00189">SonarSweep()</a>, <a class="el" href="_vector_8nxc-source.html#l00047">Vector::theta</a>, <a class="el" href="_sonar_8nxc-source.html#l00050">Sonar::toleranceAngle</a>, <a class="el" href="_vector_8nxc-source.html#l00172">VectorAdd()</a>, and <a class="el" href="_vector_8nxc-source.html#l00163">VectorTranslate()</a>.</p>

<p>Referenced by <a class="el" href="_sonar_8nxc-source.html#l00602">SonarFindObjectAtLocation()</a>.</p>

</div>
</div><p>
<a class="anchor" name="a1d335e7ee69ee611e9a4147e304129b"></a><!-- doxytag: member="Sonar.nxc::SonarFindObjectAtAngleRelative" ref="a1d335e7ee69ee611e9a4147e304129b" args="(Sonar &amp;sonar, int viewAngle, Vector &amp;retObject)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SonarFindObjectAtAngleRelative           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_sonar.html">Sonar</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>sonar</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>viewAngle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_vector.html">Vector</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>retObject</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the relative (to robot's reference point) location of an object found at given view angle. 
<p>
This is exactly same as SonarObjectLocationRelative() except this function first sets the angle of sonar motor to given view angle first. The angle is relative to the neutral position of the sonar. Left is (anticlockwise) is positive and Right (clockwise) is negative. 
<p>Definition at line <a class="el" href="_sonar_8nxc-source.html#l00685">685</a> of file <a class="el" href="_sonar_8nxc-source.html">Sonar.nxc</a>.</p>

<p>References <a class="el" href="_sonar_8nxc-source.html#l00062">Sonar::currentViewAngle</a>, <a class="el" href="_sonar_8nxc-source.html#l00055">Sonar::gearRatio</a>, <a class="el" href="_sonar_8nxc-source.html#l00058">Sonar::motorMovePower</a>, <a class="el" href="_sonar_8nxc-source.html#l00057">Sonar::sensorMaxAngle</a>, <a class="el" href="_sonar_8nxc-source.html#l00056">Sonar::sensorMinAngle</a>, <a class="el" href="_sonar_8nxc-source.html#l00054">Sonar::sensorMotor</a>, and <a class="el" href="_sonar_8nxc-source.html#l00657">SonarFindObjectRelative()</a>.</p>

</div>
</div><p>
<a class="anchor" name="aec305b3e45a7d6977fdc9a96227bc2c"></a><!-- doxytag: member="Sonar.nxc::SonarFindObjectAtLocation" ref="aec305b3e45a7d6977fdc9a96227bc2c" args="(Sonar &amp;sonar, Vector robotLocation, Vector viewLocation, Vector &amp;retObject)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SonarFindObjectAtLocation           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_sonar.html">Sonar</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>sonar</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_vector.html">Vector</a>&nbsp;</td>
          <td class="paramname"> <em>robotLocation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_vector.html">Vector</a>&nbsp;</td>
          <td class="paramname"> <em>viewLocation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_vector.html">Vector</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>retObject</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the absolute location of an object found around the reference view location. 
<p>
This is exactly same as SonarObjectLocationAtAngle() except this function determines the view angle from the reference view object and sets the angle of sonar motor to it. The reference view object is located in world coordinate. The viewLocation vector is only used for its x-y components. 
<p>Definition at line <a class="el" href="_sonar_8nxc-source.html#l00602">602</a> of file <a class="el" href="_sonar_8nxc-source.html">Sonar.nxc</a>.</p>

<p>References <a class="el" href="_sonar_8nxc-source.html#l00044">Sonar::sensorLocation</a>, <a class="el" href="_sonar_8nxc-source.html#l00536">SonarFindObjectAtAngle()</a>, <a class="el" href="_sonar_8nxc-source.html#l00051">Sonar::toleranceDistance</a>, <a class="el" href="_vector_8nxc-source.html#l00172">VectorAdd()</a>, <a class="el" href="_vector_8nxc-source.html#l00088">VectorGetAngle()</a>, <a class="el" href="_vector_8nxc-source.html#l00076">VectorGetDistance()</a>, and <a class="el" href="_vector_8nxc-source.html#l00182">VectorSubtract()</a>.</p>

</div>
</div><p>
<a class="anchor" name="f964215498ccf0311f77946a281362cc"></a><!-- doxytag: member="Sonar.nxc::SonarFindObjectRelative" ref="f964215498ccf0311f77946a281362cc" args="(Sonar &amp;sonar, Vector &amp;retObject)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SonarFindObjectRelative           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_sonar.html">Sonar</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>sonar</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_vector.html">Vector</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>retObject</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the relative (to robot reference) location of an object detected by the sonar, if any was detected within the range of sensorCutOffMin and sensorCutOffMax. 
<p>
The object is located in a world coordinate whose origin is the robot's referece point. retObject is the reference to <a class="el" href="struct_vector.html" title="A vector that represents a 2D point by x-y coordinates and a direction angle.">Vector</a> where object's coordinates will be stored. It returns true if an object was found within the cut-off and refObject is updated, otherwise returns false and refObject is untouched. 
<p>Definition at line <a class="el" href="_sonar_8nxc-source.html#l00657">657</a> of file <a class="el" href="_sonar_8nxc-source.html">Sonar.nxc</a>.</p>

<p>References <a class="el" href="_sonar_8nxc-source.html#l00062">Sonar::currentViewAngle</a>, <a class="el" href="_sonar_8nxc-source.html#l00049">Sonar::sensorCutOffMax</a>, <a class="el" href="_sonar_8nxc-source.html#l00044">Sonar::sensorLocation</a>, <a class="el" href="_sonar_8nxc-source.html#l00045">Sonar::sensorOffset</a>, <a class="el" href="_sonar_8nxc-source.html#l00043">Sonar::sensorPort</a>, <a class="el" href="_vector_8nxc-source.html#l00047">Vector::theta</a>, <a class="el" href="_vector_8nxc-source.html#l00045">Vector::x</a>, and <a class="el" href="_vector_8nxc-source.html#l00046">Vector::y</a>.</p>

<p>Referenced by <a class="el" href="_sonar_8nxc-source.html#l00685">SonarFindObjectAtAngleRelative()</a>.</p>

</div>
</div><p>
<a class="anchor" name="7903941046ca99e7f5e224c15f3b3936"></a><!-- doxytag: member="Sonar.nxc::SonarGetObjectDistanceAtAngle" ref="7903941046ca99e7f5e224c15f3b3936" args="(Sonar &amp;sonar, Vector robotLocation, int viewAngle, long viewDistance, int &amp;retBestAngle, long &amp;retBestDistance)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SonarGetObjectDistanceAtAngle           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_sonar.html">Sonar</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>sonar</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_vector.html">Vector</a>&nbsp;</td>
          <td class="paramname"> <em>robotLocation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>viewAngle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&nbsp;</td>
          <td class="paramname"> <em>viewDistance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&nbsp;</td>
          <td class="paramname"> <em>retBestAngle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long &amp;&nbsp;</td>
          <td class="paramname"> <em>retBestDistance</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the distance of an object expected to be found at the given viewAngle (relative to sonar neutral position) and viewDistance. 
<p>
<a class="el" href="struct_sonar.html" title="Sonar class that represents an ultrasonic sensor mounted on a robot.">Sonar</a> will take a short sweep around the given viewAngle (+/- toleranceAngle) and if an object is found within +/- toleranceDisance, it's most likely distance from sonar's reference point will be returned. The angle is relative to the neutral position of the sonar (not the robot). Left (anticlockwwise) is positive and Right (clockwise) is negative. 
<p>Definition at line <a class="el" href="_sonar_8nxc-source.html#l00336">336</a> of file <a class="el" href="_sonar_8nxc-source.html">Sonar.nxc</a>.</p>

<p>References <a class="el" href="_sonar_8nxc-source.html#l00057">Sonar::sensorMaxAngle</a>, <a class="el" href="_sonar_8nxc-source.html#l00056">Sonar::sensorMinAngle</a>, <a class="el" href="_sonar_8nxc-source.html#l00189">SonarSweep()</a>, and <a class="el" href="_sonar_8nxc-source.html#l00050">Sonar::toleranceAngle</a>.</p>

<p>Referenced by <a class="el" href="_sonar_8nxc-source.html#l00383">SonarGetObjectDistanceAtLocation()</a>.</p>

</div>
</div><p>
<a class="anchor" name="c41aec15f800f45db8f59d188197c4f9"></a><!-- doxytag: member="Sonar.nxc::SonarGetObjectDistanceAtLocation" ref="c41aec15f800f45db8f59d188197c4f9" args="(Sonar &amp;sonar, Vector robotLocation, Vector &amp;viewLocation, int &amp;retBestAngle, long &amp;retBestDistance)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SonarGetObjectDistanceAtLocation           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_sonar.html">Sonar</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>sonar</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_vector.html">Vector</a>&nbsp;</td>
          <td class="paramname"> <em>robotLocation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_vector.html">Vector</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>viewLocation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&nbsp;</td>
          <td class="paramname"> <em>retBestAngle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long &amp;&nbsp;</td>
          <td class="paramname"> <em>retBestDistance</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the distance of an object expected to be found at the given viewLocation (in world coordinate). 
<p>
<a class="el" href="struct_sonar.html" title="Sonar class that represents an ultrasonic sensor mounted on a robot.">Sonar</a> will take a short sweep around the given viewLocation (+/- toleranceAngle) and if an object is found within +/- toleranceDisance, its most likely distance from the robot's reference point will be returned. The angle viewLocation is located in world coordinate system. Note also that the returned distance is distance of the object from the robot reference point, not sonar reference point as in <a class="el" href="_sonar_8nxc.html#7903941046ca99e7f5e224c15f3b3936" title="Returns the distance of an object expected to be found at the given viewAngle (relative...">SonarGetObjectDistanceAtAngle()</a>. Left (anticlockwwise) is positive and Right (clockwise) is negative. 
<p>Definition at line <a class="el" href="_sonar_8nxc-source.html#l00383">383</a> of file <a class="el" href="_sonar_8nxc-source.html">Sonar.nxc</a>.</p>

<p>References <a class="el" href="_angle_8nxc-source.html#l00076">AngleAbsSub()</a>, <a class="el" href="_angle_8nxc-source.html#l00044">AngleAbsToRel()</a>, <a class="el" href="_sonar_8nxc-source.html#l00336">SonarGetObjectDistanceAtAngle()</a>, <a class="el" href="_sonar_8nxc-source.html#l00166">SonarGetPosition()</a>, <a class="el" href="_vector_8nxc-source.html#l00047">Vector::theta</a>, <a class="el" href="_vector_8nxc-source.html#l00110">VectorGetAngleVec()</a>, and <a class="el" href="_vector_8nxc-source.html#l00100">VectorGetDistanceVec()</a>.</p>

<p>Referenced by <a class="el" href="_sonar_8nxc-source.html#l00428">SonarTriangulateLandmarks()</a>.</p>

</div>
</div><p>
<a class="anchor" name="5ecaa35ce490e890c07cc2d6c21388c9"></a><!-- doxytag: member="Sonar.nxc::SonarInit" ref="5ecaa35ce490e890c07cc2d6c21388c9" args="(Sonar &amp;sonar, int sensorPort, Vector &amp;sensorLocation, int sensorOffset, int sensorCutOffMin, int sensorCutOffMax, int toleranceAngle, long toleranceDistance, int sensorMotor, int gearRatio, int motorMovePower, int motorScanPower, int sensorMinAngle, int sensorMaxAngle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SonarInit           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_sonar.html">Sonar</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>sonar</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>sensorPort</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_vector.html">Vector</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>sensorLocation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>sensorOffset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>sensorCutOffMin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>sensorCutOffMax</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>toleranceAngle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long&nbsp;</td>
          <td class="paramname"> <em>toleranceDistance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>sensorMotor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>gearRatio</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>motorMovePower</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>motorScanPower</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>sensorMinAngle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>sensorMaxAngle</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initializes sonar with an ultrasonic sensor connected at sensorPort and mounted on a motor sensorMotor. 
<p>
sensorMotor can be 0, which means the sensor is assumed to be not mounted on a motor. The sensor mount is placed on the robot at a relative offset sensorLocation from the robot's reference point. sensorOffset is the offset distance of sensor 'reading zero' from the mount. gearRatio is the Input to Ouput gear ration of the sensor motor scaled by 100. i.e. For 1:2 ratio = 50, 1:1 = 100, -2:1 = -200 etc. sensorMinAngle and sensorMaxAngle are the min and max angles between which sensor motor is allowed to rotate (only applicable if sensorMotor is specifiec. Reference angle '0' is the current state of motor. sensorMinAngle sensorMaxAngle are therefore relative to this. So, make sure to align the sensor motor to what would be the neutral position of the radar before calling this init funtion. Use MotorCaliberate() function to auto align it, for example. sensorCutOffMin and sensorCutOffMax are the mininum and maximum distance for an object to be detected. 
<p>Definition at line <a class="el" href="_sonar_8nxc-source.html#l00087">87</a> of file <a class="el" href="_sonar_8nxc-source.html">Sonar.nxc</a>.</p>

<p>References <a class="el" href="_sonar_8nxc-source.html#l00062">Sonar::currentViewAngle</a>, <a class="el" href="_sonar_8nxc-source.html#l00055">Sonar::gearRatio</a>, <a class="el" href="_sonar_8nxc-source.html#l00058">Sonar::motorMovePower</a>, <a class="el" href="_sonar_8nxc-source.html#l00059">Sonar::motorScanPower</a>, <a class="el" href="_sonar_8nxc-source.html#l00063">Sonar::neutralTachoCount</a>, <a class="el" href="_sonar_8nxc-source.html#l00064">Sonar::pidControl</a>, <a class="el" href="_p_i_d_8nxc-source.html#l00071">PIDControlInit()</a>, <a class="el" href="_sonar_8nxc-source.html#l00049">Sonar::sensorCutOffMax</a>, <a class="el" href="_sonar_8nxc-source.html#l00048">Sonar::sensorCutOffMin</a>, <a class="el" href="_sonar_8nxc-source.html#l00044">Sonar::sensorLocation</a>, <a class="el" href="_sonar_8nxc-source.html#l00057">Sonar::sensorMaxAngle</a>, <a class="el" href="_sonar_8nxc-source.html#l00056">Sonar::sensorMinAngle</a>, <a class="el" href="_sonar_8nxc-source.html#l00054">Sonar::sensorMotor</a>, <a class="el" href="_sonar_8nxc-source.html#l00045">Sonar::sensorOffset</a>, <a class="el" href="_sonar_8nxc-source.html#l00043">Sonar::sensorPort</a>, <a class="el" href="_sonar_8nxc-source.html#l00050">Sonar::toleranceAngle</a>, and <a class="el" href="_sonar_8nxc-source.html#l00051">Sonar::toleranceDistance</a>.</p>

</div>
</div><p>
<a class="anchor" name="1b96ed072ef49e36744af718ed758863"></a><!-- doxytag: member="Sonar.nxc::SonarSweep" ref="1b96ed072ef49e36744af718ed758863" args="(Sonar &amp;sonar, int angleFrom, int angleTo, long &amp;rangeData[])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SonarSweep           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_sonar.html">Sonar</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>sonar</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>angleFrom</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>angleTo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long &amp;&nbsp;</td>
          <td class="paramname"> <em>rangeData</em>[]</td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sweeps the sonar from angleFrom to angleTo and returns an array of angle/distance pairs. 
<p>
The angle angleFrom and angleTo are relative to sonar neutral position, zero being the neutral position. Returned array rangeData is a one dimentional integer array with angle and sense distance alternatingly filled. Some angles may not have any reading at all, either because nothing was sensed within the range of sensorCutOffMin and sensorCutOffMax, or a reading was not performed at that angle (motor sweeping pass it before making a reading). In that case, the readings will contain -1. An example return rangeData for a sweep of -10 to 10 is: [-10, -1, -9 -1, -8, 43, -7, 43, -6, 42, -5, -1, -4, -1 ...] 
<p>Definition at line <a class="el" href="_sonar_8nxc-source.html#l00189">189</a> of file <a class="el" href="_sonar_8nxc-source.html">Sonar.nxc</a>.</p>

<p>References <a class="el" href="_p_i_d_8nxc-source.html#l00045">PIDControl::absMaxOutput</a>, <a class="el" href="_sonar_8nxc-source.html#l00062">Sonar::currentViewAngle</a>, <a class="el" href="_sonar_8nxc-source.html#l00055">Sonar::gearRatio</a>, <a class="el" href="_sonar_8nxc-source.html#l00058">Sonar::motorMovePower</a>, <a class="el" href="_sonar_8nxc-source.html#l00059">Sonar::motorScanPower</a>, <a class="el" href="_motor_8nxc-source.html#l00059">MotorSetPower()</a>, <a class="el" href="_motor_8nxc-source.html#l00035">MotorStart()</a>, <a class="el" href="_motor_8nxc-source.html#l00047">MotorStop()</a>, <a class="el" href="_sonar_8nxc-source.html#l00064">Sonar::pidControl</a>, <a class="el" href="_p_i_d_8nxc-source.html#l00120">PIDControlCheckEnd()</a>, <a class="el" href="_p_i_d_8nxc-source.html#l00103">PIDControlSetPoint()</a>, <a class="el" href="_p_i_d_8nxc-source.html#l00142">PIDControlStep()</a>, <a class="el" href="_sonar_8nxc-source.html#l00049">Sonar::sensorCutOffMax</a>, <a class="el" href="_sonar_8nxc-source.html#l00048">Sonar::sensorCutOffMin</a>, <a class="el" href="_sonar_8nxc-source.html#l00054">Sonar::sensorMotor</a>, <a class="el" href="_sonar_8nxc-source.html#l00045">Sonar::sensorOffset</a>, and <a class="el" href="_sonar_8nxc-source.html#l00043">Sonar::sensorPort</a>.</p>

<p>Referenced by <a class="el" href="_sonar_8nxc-source.html#l00536">SonarFindObjectAtAngle()</a>, and <a class="el" href="_sonar_8nxc-source.html#l00336">SonarGetObjectDistanceAtAngle()</a>.</p>

</div>
</div><p>
<a class="anchor" name="953a8e1368314b4a90b643731d902135"></a><!-- doxytag: member="Sonar.nxc::SonarSweepPrint" ref="953a8e1368314b4a90b643731d902135" args="(Sonar &amp;sonar, long &amp;rangeData[], int waitTime)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SonarSweepPrint           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_sonar.html">Sonar</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>sonar</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long &amp;&nbsp;</td>
          <td class="paramname"> <em>rangeData</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>waitTime</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Prints the rangeData array on screen like a radar. Used for debugging. 
<p>
This function prints the returned scan data from <a class="el" href="_sonar_8nxc.html#1b96ed072ef49e36744af718ed758863" title="Sweeps the sonar from angleFrom to angleTo and returns an array of angle/distance...">SonarSweep()</a> on to screen. The center bottom of the screen is the sonar location and the vertical line is the neutral orientation. So it can display readings made from -90 to +90 degrees. Readings are indicated with small circles on the screen. Radial distances are appropriately scalled to fit on the screen. 
<p>Definition at line <a class="el" href="_sonar_8nxc-source.html#l00300">300</a> of file <a class="el" href="_sonar_8nxc-source.html">Sonar.nxc</a>.</p>

</div>
</div><p>
<a class="anchor" name="90a1cfab1623e80cf5be2f3365918cc9"></a><!-- doxytag: member="Sonar.nxc::SonarTriangulateLandmarks" ref="90a1cfab1623e80cf5be2f3365918cc9" args="(Sonar &amp;sonar, Vector &amp;robotLocation, Vector &amp;landmark1, Vector &amp;landmark2, Vector &amp;retLocation)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SonarTriangulateLandmarks           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_sonar.html">Sonar</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>sonar</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_vector.html">Vector</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>robotLocation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_vector.html">Vector</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>landmark1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_vector.html">Vector</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>landmark2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_vector.html">Vector</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>retLocation</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Triangulates the position robot from two known landmarks. 
<p>
<a class="el" href="struct_sonar.html" title="Sonar class that represents an ultrasonic sensor mounted on a robot.">Sonar</a> makes distance and angle readings of given two landmarks and triangulates the position of robot. Triangulation is performed by intersecting the two circles formed by the two landmarks having radiuses of their respective distances measured by sonar. One of the two intersection points is the triangulated location of robot. The one closer to current location is considered more likly candidate and is returned. 
<p>Definition at line <a class="el" href="_sonar_8nxc-source.html#l00428">428</a> of file <a class="el" href="_sonar_8nxc-source.html">Sonar.nxc</a>.</p>

<p>References <a class="el" href="_angle_8nxc-source.html#l00076">AngleAbsSub()</a>, <a class="el" href="_circle_8nxc-source.html#l00045">CircleIntersectCircle()</a>, <a class="el" href="_sonar_8nxc-source.html#l00044">Sonar::sensorLocation</a>, <a class="el" href="_sonar_8nxc-source.html#l00383">SonarGetObjectDistanceAtLocation()</a>, <a class="el" href="_sonar_8nxc-source.html#l00166">SonarGetPosition()</a>, <a class="el" href="_vector_8nxc-source.html#l00047">Vector::theta</a>, <a class="el" href="_vector_8nxc-source.html#l00110">VectorGetAngleVec()</a>, <a class="el" href="_vector_8nxc-source.html#l00100">VectorGetDistanceVec()</a>, <a class="el" href="_vector_8nxc-source.html#l00211">VectorRotate()</a>, and <a class="el" href="_vector_8nxc-source.html#l00182">VectorSubtract()</a>.</p>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Sat Jun 6 15:09:09 2009 for libnxter by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
